<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>SimpleCarousel.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/SimpleCarousel.html">SimpleCarousel</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: SimpleCarousel.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
	Copyright jcoporation, http://jcorporationtech.com
	Date : 2018.2.13
	Name : simple carousel
	Email : j.lee@jcorporationtech.com
	Author : Anybody can join us to enhance our code and review. Welcome.
	License: MIT
**/

/**
 * 할 일 메모 2018.02.17
 $.extend에 대해서 정리
 $.fn에 대해서 정리
 코드 정리
 주석을 처리할 내용 파악 &amp; 필요한 주석 처리
 변수 정리
 API문서 정리
 https://github.com/jsdoc3/jsdoc
 typescript 설정해보자.
 
 #JSDOC
 jsdoc ./SimpleCarousel.js
 out 폴더에 문서가 생성되는데,
 제이쿼리 플러그인으로 된 것은 생성자만 인식하고 내부에 있는 메서드에 대한 문서는 생성이 되지 않는다.
 
 
 #YUIDOCJS
 github : https://github.com/yui/yuidoc/
 가이드 문서 http://yui.github.io/yuidoc/
 yuidoc -o ../../docs ./
 
 */


(function($) {
	/**
	 * 사용자 생성자 SimpleCarousel
	 * @class SimpleCarousel
	 * @constructor
	 * @param {object} options
	 */
	$.fn.SimpleCarousel = function(options){
		
		var
			current_slide = 0
			,carouselSlide = null
			,total = 0
			,pagination = null
			,settings = $.extend({}, $.fn.SimpleCarousel.default, options);
		
		/**
		 * 다음 슬라이드 위치를 계산한다.
		 * @method count
		 * @param direction 슬라이드 방향
		 * @returns {number} 현재 슬라이드 번호 반환
		 */
		$.count = function (direction) {
			if(direction === &#x27;prev&#x27;){
				current_slide--;
				if(current_slide &lt; 0){
					current_slide = total-1;
				}
			}else if(direction === &#x27;next&#x27;){
				current_slide++;
				if(total &lt;= current_slide){
					current_slide = 0;
				}
			}
			return current_slide;
		};
		
		/**
		 * 슬라이드를 이동시키는 액션
		 * @param direction 진행 방향
		 * @param pos 슬라이드 위치
		 */
		$.action = function(direction, pos){
			var slide = null;
			
			if(pos === &#x27;&#x27; || pos === undefined){
				slide = $.count(direction);
			}else{
				slide = pos;
				current_slide = pos; // update position
			}

			if(settings.effect === &#x27;&#x27;){
				carouselSlide.css(&#x27;display&#x27;, &#x27;none&#x27;);
				carouselSlide.eq(slide).css(&#x27;display&#x27;, &#x27;block&#x27;);
			}else if(settings.effect === &#x27;fade&#x27;){

				// TODO animate을 분리할 것인가...
				carouselSlide.css(&#x27;display&#x27;, &#x27;none&#x27;);
				carouselSlide.eq(slide).fadeIn(settings.duration);
			}

			if(settings.pagination){
				$.moveBullet();	
			}			
		};
		
		
		/**
		 * 슬라이드 위치에 따라서 페이지네이션을 이동시킨다.
		 * @param pos 슬라이드 위치
		 */
		$.moveBullet = function (pos) {
			var slide = null;

			if(pos){
				slide = pos;
			}else{
				slide = current_slide;
			}

			if(settings.pagination){
				pagination.find(&#x27;.&#x27;+settings.bulletClassName).removeClass(&#x27;active&#x27;);
				pagination.find(&#x27;.&#x27;+settings.bulletClassName).eq(slide).addClass(&#x27;active&#x27;);	
			}
		};
		
		/**
		 * 페이지네이션 블릿을 클릭했을 경우 이벤트 바인딩
		 */
		$.clickBullet = function () {
			pagination.find(&#x27;.&#x27;+settings.bulletClassName).bind(&#x27;click&#x27;, function (e) {
				e.preventDefault();
				var idx = $(this).index();
				$.action(null, idx);
				$.moveBullet(idx);
			});
		};
		
		/**
		 * 페이지네이션을 설정한다.
		 * @param container 슬라이더 컨테이너
		 */
		$.setPagination = function (container) {
			// current_slide
			var paginationWrapper = $(&#x27;&lt;div class=&quot;pagination&quot; /&gt;&#x27;);

			for(var i=0;i&lt;total;i++ ){
				if(i===0){
					paginationWrapper.append(&#x27;&lt;a href=&quot;#&quot; class=&quot;&#x27;+settings.bulletClassName+&#x27; active&quot; /&gt;&#x27;);
				}else{
					paginationWrapper.append(&#x27;&lt;a href=&quot;#&quot; class=&quot;&#x27;+settings.bulletClassName+&#x27;&quot; /&gt;&#x27;);
				}
			}
			
			$(container).append(paginationWrapper);
			pagination = $(container).find(&#x27;.pagination&#x27;);
		};
		
		
		/**
		 * 네비게이션을 출력한다.
		 * @param container 슬라이더 컨테이너
		 * @returns {{btnPrev: *, btnNext: *}} 이벤트 바인딩한 핸들러를 반환한다.
		 */
		$.setNavigation = function (container) {
			var btnPrev = $(container).find(settings.btnPrev);
			var btnNext = $(container).find(settings.btnNext);

			btnPrev.bind(&#x27;click&#x27;, function (e) {
				e.preventDefault();
				// 순서가 카운트Count -&gt; 슬라이드액션Move -&gt; Bullet불릿변경(선택)
				$.action(&#x27;prev&#x27;);
			});

			btnNext.bind(&#x27;click&#x27;, function (e) {
				e.preventDefault();
				$.action(&#x27;next&#x27;);
			});

			return {
				btnPrev : btnPrev,
				btnNext : btnNext
			};
		};

		// 타깃을 찾아서 해당 엘리먼트 객체를 리턴 
		// $.selectElement = function () {

		// };
		
		/**
		 * 슬라이드 자동 롤링 설정
		 * @param btnGroup 이벤트 핸들러를 받는다.
		 * @returns {number} 타이머를 반환한다.
		 */
		$.looping = function(btnGroup){
			return setInterval(function () {
				btnGroup.btnNext.click();
			}, settings.autoSlide);
		};
		
		/**
		 * 슬라이더를 개시한다.
		 * @param container 슬라이더 컨테이너
		 */
		$.initialize = function (container) {
			/*
				이동 효과 추가에 대해서 easing + animate
			*/
			carouselSlide = $(container).find(settings.slide);
			total = carouselSlide.length;

			var btnGroup = null;
			var timer = null;

			if(settings.navigation){
				btnGroup = $.setNavigation(container);
			}

			if(settings.pagination){
				$.setPagination(container);	
			}

			if(settings.loop){
				timer = $.looping(btnGroup);

				$(container).bind(&#x27;mouseenter&#x27;, function () {
					clearInterval(timer);
				});

				$(container).bind(&#x27;mouseleave&#x27;, function () {
					timer = $.looping(btnGroup);
				});
			}

			$.clickBullet();
		};

		this.each(function () {
			$.initialize(this);
		});
	};
	
	/**
	 * 슬라이더의 기본 값을 설정한다.
	 * @type {{slide: string, btnNext: string, btnPrev: string, navigation: boolean, bulletClassName: string, effect: string, duration: number, pagination: boolean, autoSlide: number, loop: boolean}}
	 */
	$.fn.SimpleCarousel.default = {
		slide : &#x27;.carousel-slide&#x27;,
		btnNext : &#x27;.carousel-btn-next&#x27;,
		btnPrev : &#x27;.carousel-btn-prev&#x27;,
		navigation: true,
		bulletClassName : &#x27;bullet&#x27;,
		effect : &#x27;&#x27;,
		duration : 500,
		pagination : false,
		autoSlide : 3000,
		loop: false
	};

	
}(jQuery));
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
